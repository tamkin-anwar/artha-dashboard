<div class="bg-gray-100 dark:bg-gray-700 rounded-xl p-6 shadow">
    <h2 class="text-lg font-semibold mb-2">ğŸ“ Notes</h2>
    <form method="POST" class="space-y-2">
        <textarea 
            name="note" 
            rows="3" 
            placeholder="Write a note..." 
            class="w-full p-2 rounded bg-white dark:bg-gray-800 border dark:border-gray-600" 
            required
        ></textarea>
        <button type="submit" class="w-full p-2 rounded bg-green-600 text-white hover:bg-green-700">Add Note</button>
    </form>

    <ul class="mt-4 space-y-2 text-sm">
        {% for note in notes %}
        <li class="bg-white dark:bg-gray-800 p-2 rounded border dark:border-gray-600 flex justify-between items-center space-x-2">
            <div 
                contenteditable="true" 
                data-note-id="{{ note.id }}" 
                role="textbox" 
                aria-multiline="true" 
                tabindex="0" 
                aria-label="Edit note" 
                spellcheck="true" 
                class="editable-note flex-grow outline-none hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded p-1"
            >
                {{ note.content }}
            </div>
            <form action="{{ url_for('delete_note', note_id=note.id) }}" method="POST">
                <button 
                    type="submit" 
                    onclick="return confirm('Delete this note?')" 
                    class="text-red-500"
                    title="Delete Note"
                >
                    ğŸ—‘ï¸
                </button>
            </form>
        </li>
        {% else %}
        <li class="text-gray-500 text-center mt-2">No notes yet.</li>
        {% endfor %}
    </ul>
</div>