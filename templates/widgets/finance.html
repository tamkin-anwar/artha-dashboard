<div class="finance-tab bg-gray-100 dark:bg-gray-700 rounded-xl p-6 shadow">
<h2 class="text-lg font-semibold mb-4 text-black dark:text-white">ðŸ’¸ Finances</h2>

    <!-- Add Transaction Form -->
    <form
        method="POST"
        action="{{ url_for('add_transaction') }}"
        class="mb-4 grid grid-cols-1 sm:grid-cols-12 gap-2 items-center"
        autocomplete="off"
    >
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

        <input
        type="text"
        name="description"
        placeholder="Description"
        required
        class="w-full min-w-0 sm:col-span-5 px-3 py-2 rounded border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-black dark:text-white placeholder-gray-500 dark:placeholder-gray-400"
        >

        <div class="relative w-full min-w-0 sm:col-span-3">
        <span class="absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500 dark:text-gray-400">$</span>
        <input
            type="number"
            name="amount"
            placeholder="Amount"
            step="0.01"
            inputmode="decimal"
            required
            class="pl-7 pr-3 py-2 w-full min-w-0 rounded border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-black dark:text-white placeholder-gray-500 dark:placeholder-gray-400"
        >
        </div>

        <select
        name="type"
        required
        class="w-full min-w-0 sm:col-span-2 px-3 py-2 rounded border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-black dark:text-white"
        >
        <option value="income">Income</option>
        <option value="expense">Expense</option>
        </select>

        <button
        type="submit"
        class="w-full min-w-0 sm:col-span-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition whitespace-nowrap"
        >
        Add
        </button>
    </form>

    <!-- Transactions List -->
    <ul id="tx-list" class="space-y-3">
        {% for tx in transactions %}
        {% include "partials/transaction_row.html" %}
        {% else %}
        <li class="text-sm text-gray-500 dark:text-gray-300 text-center py-6">
            No transactions yet.
        </li>
        {% endfor %}
    </ul>

    <!-- Summary -->
    <div class="mt-4 text-sm text-legend space-y-1">
        <p class="flex items-center justify-between gap-3">
        <span class="shrink-0">ðŸ’° Income:</span>
        <strong id="finance-income" class="finance-income tabular-nums">${{ "%.2f"|format(income) }}</strong>
        </p>

        <p class="flex items-center justify-between gap-3">
        <span class="shrink-0">ðŸ’¸ Expense:</span>
        <strong id="finance-expense" class="finance-expense tabular-nums">${{ "%.2f"|format(expense) }}</strong>
        </p>

        <p class="flex items-center justify-between gap-3">
        <span class="shrink-0">ðŸ“Š Balance:</span>
        <strong id="finance-balance" class="finance-balance tabular-nums">${{ "%.2f"|format(balance) }}</strong>
        </p>
    </div>
</div>